<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <title>–°–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</title>
    <script src="https://cdn.tailwindcss.com "></script>
</head>

<body class="bg-gray-100 p-4">

    <h1 class="text-xl font-bold mb-4">‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h1>

    <form id="ad-form" class="bg-white p-4 rounded shadow space-y-4">
        <input type="text" id="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required class="w-full p-2 border rounded">
        <textarea id="description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" required class="w-full p-2 border rounded"></textarea>
        <input type="number" id="price" placeholder="–¶–µ–Ω–∞ –≤ ‚≠ê" required class="w-full p-2 border rounded">

        <select id="category" class="w-full p-2 border rounded">
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
            <option value="bot">ü§ñ –ë–æ—Ç—ã</option>
            <option value="chat">üí¨ –ß–∞—Ç—ã</option>
            <option value="nft">üñº NFT</option>
            <option value="ton">üß≠ .TON –¥–æ–º–µ–Ω—ã</option>
            <option value="ads">üì¢ –†–µ–∫–ª–∞–º–∞</option>
        </select>

        <input type="text" id="image" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
            class="w-full p-2 border rounded">
        <input type="number" id="subscribers" placeholder="–ü–æ–¥–ø–∏—Å—á–∏–∫–∏ / —É—á–∞—Å—Ç–Ω–∏–∫–∏" class="w-full p-2 border rounded">

        <button type="submit" class="mt-2 bg-blue-600 text-white px-4 py-2 rounded">‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
    </form>

    <script>
        document.getElementById("ad-form").addEventListener("submit", async function (e) {
            e.preventDefault();

            const newItem = {
                title: document.getElementById("title").value,
                description: document.getElementById("description").value,
                price: parseFloat(document.getElementById("price").value),
                category: document.getElementById("category").value,
                image: document.getElementById("image").value,
                subscribers: document.getElementById("subscribers").value
            };

            await fetch("/api/items", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(newItem)
            });

            alert("–û–±—ä—è–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ!");
            window.location.href = "/";
        });
    </script>
</body>

</html>